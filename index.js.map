{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. Инициализация Lenis (Плавный скролл)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 2. Мобильное меню\n    const burger = document.getElementById('burger-trigger');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const body = document.body;\n\n    if (burger && mobileMenu) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('burger--active');\n            mobileMenu.classList.toggle('mobile-menu--active');\n            body.classList.toggle('no-scroll');\n        });\n\n        // Закрытие меню при клике на ссылку\n        document.querySelectorAll('.mobile-nav__link').forEach(link => {\n            link.addEventListener('click', () => {\n                burger.classList.remove('burger--active');\n                mobileMenu.classList.remove('mobile-menu--active');\n                body.classList.remove('no-scroll');\n            });\n        });\n    }\n\n    // 3. GSAP Анимации\n    if (typeof gsap !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n\n        // --- РЕФАКТОРИНГ: СЕКЦИЯ ПЛАТФОРМЫ (forEach) ---\n        // Теперь каждая карточка анимируется независимо при скролле\n        const platformCards = gsap.utils.toArray('.platform__card');\n        \n        platformCards.forEach((card, index) => {\n            gsap.from(card, {\n                scrollTrigger: {\n                    trigger: card,            // Триггер — сама карточка\n                    start: 'top 90%',         // Анимация начнется, когда карточка на 90% высоты экрана\n                    toggleActions: 'play none none none'\n                },\n                y: 60,\n                opacity: 0,\n                duration: 0.8,\n                ease: 'power3.out',\n                // Небольшая задержка, если карточки стоят в ряд и появляются одновременно\n                delay: (index % 3) * 0.1 \n            });\n        });\n\n        // Анимация преимуществ (Benefits)\n        const benefitItems = gsap.utils.toArray('.benefit-item');\n        benefitItems.forEach((item) => {\n            gsap.from(item, {\n                scrollTrigger: {\n                    trigger: item,\n                    start: 'top 85%'\n                },\n                x: -30,\n                opacity: 0,\n                duration: 0.6\n            });\n        });\n    }\n\n    // 4. Валидация формы и капча\n    const contactForm = document.getElementById('main-contact-form');\n    if (contactForm) {\n        const captchaLabel = document.getElementById('captcha-label');\n        const captchaInput = document.getElementById('captcha-input');\n        const phoneInput = document.getElementById('phone-input');\n\n        const n1 = Math.floor(Math.random() * 10);\n        const n2 = Math.floor(Math.random() * 5);\n        const result = n1 + n2;\n        if (captchaLabel) captchaLabel.innerText = `Сколько будет ${n1} + ${n2}?`;\n\n        if (phoneInput) {\n            phoneInput.addEventListener('input', (e) => {\n                e.target.value = e.target.value.replace(/\\D/g, '');\n            });\n        }\n\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== result) {\n                alert('Неверный ответ на капчу!');\n                return;\n            }\n            \n            const btn = contactForm.querySelector('button');\n            btn.disabled = true;\n            btn.innerText = 'Отправка...';\n\n            setTimeout(() => {\n                contactForm.reset();\n                btn.style.display = 'none';\n                const successMsg = document.getElementById('form-success');\n                if (successMsg) successMsg.style.display = 'block';\n            }, 1500);\n        });\n    }\n\n    // 5. COOKIE POPUP\n    const setupCookies = () => {\n        if (!localStorage.getItem('cookies-accepted')) {\n            const cookieHtml = `\n                <div id=\"cookie-popup\" class=\"cookie-popup card-neo\">\n                    <p>Этот сайт использует cookies для улучшения работы. Подробнее — в нашей <a href=\"cookies.html\">Cookie политике</a>.</p>\n                    <button id=\"accept-cookies\" class=\"btn btn--main\">Принять</button>\n                </div>\n            `;\n            document.body.insertAdjacentHTML('beforeend', cookieHtml);\n\n            const acceptBtn = document.getElementById('accept-cookies');\n            if (acceptBtn) {\n                acceptBtn.addEventListener('click', () => {\n                    const popup = document.getElementById('cookie-popup');\n                    if (popup) popup.remove();\n                    localStorage.setItem('cookies-accepted', 'true');\n                });\n            }\n        }\n    };\n    setupCookies();\n\n    // 6. Инициализация иконок Lucide\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n});"],"names":["lenis","t","raf","time","burger","mobileMenu","body","link","card","index","item","contactForm","captchaLabel","captchaInput","phoneInput","n1","n2","result","e","btn","successMsg","acceptBtn","popup"],"mappings":"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"}